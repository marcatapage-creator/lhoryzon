@import "tailwindcss";
@plugin "tailwindcss-animate";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);
}

:root {
  --radius: 0.625rem;
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.205 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.205 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.922 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 12%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.556 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(1 0 0 / 12%);
  --sidebar-ring: oklch(0.556 0 0);
}

@layer utilities {
  .glass-card {
    background-color: var(--color-white, #ffffff);
    opacity: 0.7;
    @apply backdrop-blur-md border border-slate-200/50 dark:border-white/10 shadow-sm;
  }

  .dark .glass-card {
    background-color: var(--color-slate-950, #020617);
    opacity: 0.4;
  }

  .dark .modern-shadow {
    box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.08), 0 10px 15px -3px rgba(0, 0, 0, 0.4);
  }

  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  .no-scrollbar {
    -ms-overflow-style: none;
    /* IE and Edge */
    scrollbar-width: none;
    /* Firefox */
  }
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  html {
    scroll-behavior: smooth;
    scroll-padding-top: 80px;
    /* Offset for fixed header */
  }

  body {
    @apply bg-background text-foreground tracking-tight;
    font-variant-numeric: tabular-nums;
  }
}

/* Custom Scrollbar */
/* Custom Scrollbar - Global Override */

/* Firefox */
* {
  scrollbar-width: thin;
  scrollbar-color: transparent transparent;
  /* Hidden by default in Firefox */
}

/* Show in Firefox on hover (container hover is best we can do for FF) */
*:hover {
  scrollbar-color: rgba(155, 155, 155, 0.5) transparent;
}

/* Chrome, Edge, and Safari */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
  background-color: transparent;
}

::-webkit-scrollbar-track {
  background: transparent !important;
}

::-webkit-scrollbar-thumb {
  background-color: transparent;
  border-radius: 10px;
}

/* Only show the thumb when hovering the SCROLLBAR itself (Webkit only) */
/* Note: Providing a fallback for usability - if we only show on scrollbar hover, it might be hard to find.
   However, the user asked for it to NOT show when scrolling wasn't happening.
   Since we can't detect scroll, minimizing visibility is key.
   Let's try a very subtle hover effect on the container, and stronger on the scrollbar.
*/

/* Strategy: Invisible normally. Visible on hover. */
::-webkit-scrollbar-thumb {
  background-color: transparent;
}

/* Show scrollbar when hovering the scrollable container */
*:hover::-webkit-scrollbar-thumb {
  background-color: rgba(155, 155, 155, 0.5) !important;
}

/* Dark mode adjustments */
.dark *:hover {
  scrollbar-color: rgba(255, 255, 255, 0.2) transparent;
}

.dark *:hover::-webkit-scrollbar-thumb {
  background-color: rgba(255, 255, 255, 0.3) !important;
}

@keyframes dialog-enter {
  from {
    opacity: 0;
    transform: translate(-50%, 20%) scale(0.96);
  }

  to {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
}

@keyframes dialog-exit {
  from {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }

  to {
    opacity: 0;
    transform: translate(-50%, 20%) scale(0.96);
  }
}

.animate-dialog-enter {
  animation: dialog-enter 0.5s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
}

.animate-dialog-exit {
  animation: dialog-exit 0.3s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
}

@keyframes dialog-spring-enter {
  from {
    opacity: 0;
    transform: translate(-50%, 30%) scale(0.95);
  }

  to {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
}

@keyframes dialog-spring-exit {
  from {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }

  to {
    opacity: 0;
    transform: translate(-50%, 30%) scale(0.95);
  }
}

.animate-dialog-spring-enter {
  animation: dialog-spring-enter 0.5s cubic-bezier(0.19, 1, 0.22, 1) forwards;
}

@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }

  100% {
    transform: translateX(100%);
  }
}

.animate-shimmer {
  position: relative;
  overflow: hidden;
}

.animate-shimmer::after {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  transform: translateX(-100%);
  background-image: linear-gradient(90deg,
      rgba(255, 255, 255, 0) 0,
      rgba(255, 255, 255, 0.2) 20%,
      rgba(255, 255, 255, 0.4) 60%,
      rgba(255, 255, 255, 0));
  animation: shimmer 1.5s infinite;
}

.dark .animate-shimmer::after {
  background-image: linear-gradient(90deg,
      rgba(255, 255, 255, 0) 0,
      rgba(255, 255, 255, 0.05) 20%,
      rgba(255, 255, 255, 0.1) 60%,
      rgba(255, 255, 255, 0));
}

.animate-dialog-spring-exit {
  animation: dialog-spring-exit 0.3s cubic-bezier(0.19, 1, 0.22, 1) forwards;
}

@keyframes accordion-down {
  from {
    height: 0;
    opacity: 0;
  }

  to {
    height: var(--radix-accordion-content-height);
    opacity: 1;
  }
}

@keyframes accordion-up {
  from {
    height: var(--radix-accordion-content-height);
    opacity: 1;
  }

  to {
    height: 0;
    opacity: 0;
  }
}

.animate-accordion-down {
  animation: accordion-down 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.animate-accordion-up {
  animation: accordion-up 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

/* Prevent iOS zoom on inputs */
@media screen and (max-width: 768px) {

  input,
  textarea,
  select {
    font-size: 16px !important;
  }
}

/* Print Styles for PDF Export */
@media print {

  /* Hide UI elements */
  header,
  nav,
  [role="menubar"],
  aside,
  button,
  div[data-radix-dropdown-menu-content],
  .fixed,
  .sticky {
    display: none !important;
  }

  /* Reset layout */
  body {
    background: white !important;
    color: black !important;
    font-size: 10pt;
    padding: 0 !important;
    margin: 0 !important;
  }

  main {
    margin: 0 !important;
    padding: 0 !important;
  }

  /* Force table full width and visible overflow */
  .overflow-auto,
  .overflow-x-auto,
  .max-h-\[600px\],
  .max-h-\[758px\] {
    overflow: visible !important;
    max-height: none !important;
  }

  table {
    width: 100% !important;
    border-collapse: collapse !important;
  }

  tr {
    page-break-inside: avoid !important;
  }

  th,
  td {
    border: 1px solid #ddd !important;
    padding: 8px !important;
  }

  /* Black and white logos or hide them if messy */
  .avatar {
    print-color-adjust: exact;
  }
}